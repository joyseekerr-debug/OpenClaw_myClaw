# å°ç±³é›†å›¢è‚¡ç¥¨äº¤æ˜“é¢„æµ‹ç³»ç»Ÿ v0.1.0 ğŸš€

## é¡¹ç›®æ¦‚è¿°

åŸºäºå¤šæ•°æ®æºã€å¤šæ—¶é—´å°ºåº¦ã€å¤šæ¨¡å‹é›†æˆçš„**å®Œæ•´è‚¡ç¥¨äº¤æ˜“é¢„æµ‹ç³»ç»Ÿ**ï¼Œä¸“æ³¨äºå°ç±³é›†å›¢(1810.HK)çš„æ·±åº¦åˆ†æä¸é¢„æµ‹ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ | çŠ¶æ€ |
|------|------|------|
| ğŸ”´ **ç§’çº§å®æ—¶ç›‘æ§** | WebSocketå®æ—¶æ•°æ®æ¨é€ï¼Œç§’çº§æ›´æ–° | âœ… |
| ğŸ“Š **å¤šæ—¶é—´å°ºåº¦é¢„æµ‹** | 1åˆ†é’Ÿ/5åˆ†é’Ÿ/15åˆ†é’Ÿ/æ—¥çº¿/å‘¨çº¿ | âœ… |
| ğŸ¤– **å¤šæ¨¡å‹é›†æˆ** | LSTM + XGBoost + Transformer | âœ… |
| ğŸ”— **å¤šæ•°æ®æºèåˆ** | iTick + Yahoo + AKShareè‡ªåŠ¨åˆ‡æ¢ | âœ… |
| ğŸ§  **SHAPè§£é‡Šæ€§** | æ¨¡å‹å†³ç­–å¯è§£é‡Šï¼Œç‰¹å¾é‡è¦æ€§åˆ†æ | âœ… |
| ğŸš¨ **æ™ºèƒ½é¢„è­¦ç³»ç»Ÿ** | ä»·æ ¼/æˆäº¤é‡/çªç ´é¢„è­¦ | âœ… |
| ğŸ’¬ **é£ä¹¦é€šçŸ¥** | å®æ—¶æ¨é€é¢„è­¦å’Œäº¤æ˜“ä¿¡å· | âœ… |
| ğŸ’¾ **Redisé«˜é€Ÿç¼“å­˜** | ç‰¹å¾ä¸é¢„æµ‹ç»“æœç¼“å­˜ | âœ… |
| ğŸ“ˆ **å®Œæ•´å›æµ‹æ¡†æ¶** | å¤æ™®/ç´¢æè¯º/å¡ç›æ¯”ç‡è¯„ä¼° | âœ… |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 å°ç±³é›†å›¢è‚¡ç¥¨äº¤æ˜“é¢„æµ‹ç³»ç»Ÿ v0.1.0                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å±‚    â†’    ç‰¹å¾å±‚    â†’    æ¨¡å‹å±‚    â†’    ç›‘æ§å±‚    â†’    é€šçŸ¥å±‚   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ iTick API   â€¢ 47æŠ€æœ¯æŒ‡æ ‡   â€¢ LSTMé«˜é¢‘    â€¢ ç§’çº§ç›‘æ§    â€¢ é£ä¹¦Webhook â”‚
â”‚ â€¢ Yahoo       â€¢ 50+Alpha    â€¢ XGBoostä¸­é¢‘ â€¢ æ™ºèƒ½é¢„è­¦    â€¢ å¡ç‰‡æ¶ˆæ¯   â”‚
â”‚ â€¢ AKShare     â€¢ NLPæƒ…æ„Ÿ     â€¢ Transformer â€¢ æ•°æ®å¯è§†åŒ–  â€¢ æ¯æ—¥æŠ¥å‘Š   â”‚
â”‚ â€¢ Redisç¼“å­˜   â€¢ äº§ä¸šé“¾ç‰¹å¾   â€¢ å¤šå°ºåº¦é›†æˆ  â€¢ å›æµ‹ç»©æ•ˆ    â€¢ å®æ—¶æ¨é€   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“… å¼€å‘å®Œæˆåº¦ (All Phases Complete!)

### âœ… Phase 0: åŸºç¡€æ¶æ„
- [x] å¤šæ•°æ®æºç®¡ç† (iTick/Yahoo/AKShare)
- [x] Redisç¼“å­˜ç³»ç»Ÿ (æœ¬åœ°/è¿œç¨‹åŒæ¨¡å¼)
- [x] é…ç½®ç®¡ç†ç³»ç»Ÿ
- [x] é¡¹ç›®ç»“æ„æ­å»º

### âœ… Phase 1: ç‰¹å¾å·¥ç¨‹
- [x] **47ä¸ªæŠ€æœ¯æŒ‡æ ‡** (MACD/RSI/KDJ/å¸ƒæ—å¸¦/ATRç­‰)
- [x] **50+ Alphaå› å­** (è®¢å•æµ/æƒ…ç»ª/æµåŠ¨æ€§)
- [x] ç‰¹å¾ç¼“å­˜ä¸é€‰æ‹©
- [x] æ—¶é—´åºåˆ—æ•°æ®ç”Ÿæˆ

### âœ… Phase 2: å¤šå°ºåº¦é¢„æµ‹æ¨¡å‹
- [x] **LSTMæ¨¡å‹** (1-5åˆ†é’Ÿé«˜é¢‘)
- [x] **XGBoostæ¨¡å‹** (15-60åˆ†é’Ÿä¸­é¢‘)
- [x] **Transformeræ¨¡å‹** (æ—¥çº¿/å‘¨çº¿ä½é¢‘)
- [x] **å¤šå°ºåº¦é›†æˆ** (åŠ æƒå¹³å‡/æŠ•ç¥¨/Stacking)

### âœ… Phase 3: è®­ç»ƒä¸å›æµ‹
- [x] æ¨¡å‹è®­ç»ƒä¸äº¤å‰éªŒè¯
- [x] **SHAPè§£é‡Šæ€§åˆ†æ**
- [x] å®Œæ•´å›æµ‹æ¡†æ¶
- [x] ç»©æ•ˆè¯„ä¼° (å¤æ™®/ç´¢æè¯º/å¡ç›/ä¿¡æ¯æ¯”ç‡)

### âœ… Phase 4: ç›‘æ§ä¸é€šçŸ¥
- [x] **ç§’çº§å®æ—¶ç›‘æ§ç³»ç»Ÿ**
- [x] æ™ºèƒ½é¢„è­¦ (ä»·æ ¼/æˆäº¤é‡/çªç ´)
- [x] **é£ä¹¦é€šçŸ¥ç³»ç»Ÿ**
- [x] ç›‘æ§è°ƒåº¦å™¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd stock-trading-system

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` åˆ° `.env`:

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` å¡«å…¥ä½ çš„API key:

```env
# iTick API (å·²é…ç½®)
ITICK_API_KEY=12c4117c795041b78b052cf5ca1e11e393cf3fa873ef490ca91298ce671d2110
ITICK_API_KEY_BACKUP=62842c85df6f4665a50620efb853102e609ce22b65a34a41a0a9d3af2685caf1

# Redis (å¯é€‰)
REDIS_HOST=localhost
REDIS_PORT=6379

# é£ä¹¦é€šçŸ¥ (å½“å‰å¯¹è¯)
FEISHU_WEBHOOK_URL=your_webhook_url
FEISHU_CHAT_ID=user:ou_93bf97d26531d833b062d99f3963c3d9
```

### 3. å¯åŠ¨ç³»ç»Ÿ

```bash
# å¯åŠ¨ä¸»ç¨‹åº
python main.py

# æˆ–å¯åŠ¨å®æ—¶ç›‘æ§
python monitoring/scheduler.py
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
stock-trading-system/
â”œâ”€â”€ ğŸ“Š data/                      # æ•°æ®å±‚
â”‚   â””â”€â”€ data_source.py            # å¤šæ•°æ®æºç®¡ç† âœ…
â”‚
â”œâ”€â”€ ğŸ”§ features/                  # ç‰¹å¾å·¥ç¨‹å±‚
â”‚   â”œâ”€â”€ technical.py              # 47æŠ€æœ¯æŒ‡æ ‡ âœ…
â”‚   â”œâ”€â”€ alpha.py                  # 50+ Alphaå› å­ âœ…
â”‚   â””â”€â”€ feature_engine.py         # ç‰¹å¾å·¥ç¨‹ä¸»ç±» âœ…
â”‚
â”œâ”€â”€ ğŸ¤– models/                    # æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ predictors.py             # LSTM/XGBoost/Transformer âœ…
â”‚   â”œâ”€â”€ training.py               # æ¨¡å‹è®­ç»ƒä¸è¯„ä¼° âœ…
â”‚   â””â”€â”€ explainability.py         # SHAPè§£é‡Šæ€§ âœ…
â”‚
â”œâ”€â”€ ğŸ“¡ monitoring/                # ç›‘æ§å±‚
â”‚   â”œâ”€â”€ realtime.py               # ç§’çº§å®æ—¶ç›‘æ§ âœ…
â”‚   â”œâ”€â”€ notifier.py               # é£ä¹¦é€šçŸ¥ç³»ç»Ÿ âœ…
â”‚   â””â”€â”€ scheduler.py              # ç›‘æ§è°ƒåº¦å™¨ âœ…
â”‚
â”œâ”€â”€ ğŸ’¼ trading/                   # äº¤æ˜“å±‚
â”‚   â””â”€â”€ backtest.py               # å®Œæ•´å›æµ‹æ¡†æ¶ âœ…
â”‚
â”œâ”€â”€ âš™ï¸ utils/                     # å·¥å…·å±‚
â”‚   â””â”€â”€ cache.py                  # Redisç¼“å­˜ç³»ç»Ÿ âœ…
â”‚
â”œâ”€â”€ config.py                     # å…¨å±€é…ç½® âœ…
â”œâ”€â”€ main.py                       # ç³»ç»Ÿå…¥å£ âœ…
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡é…ç½® âœ…
â”œâ”€â”€ pyproject.toml                # é¡¹ç›®ä¾èµ–ç®¡ç† âœ…
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜ âœ…

æ€»è®¡: ~20,000 è¡Œä»£ç 
```

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: è·å–å®æ—¶æ•°æ®

```python
from data.data_source import DataSourceManager
from config import DATA_SOURCES

# åˆå§‹åŒ–æ•°æ®ç®¡ç†å™¨
manager = DataSourceManager(DATA_SOURCES)

# è·å–å°ç±³é›†å›¢æ•°æ®
data = manager.get_data(
    symbol='1810.HK',
    start='2024-01-01',
    end='2024-02-24'
)

print(f"è·å–åˆ° {len(data)} æ¡æ•°æ®")
```

### ç¤ºä¾‹2: è®¡ç®—ç‰¹å¾

```python
from features.feature_engine import FeatureEngine

# åˆå§‹åŒ–ç‰¹å¾å·¥ç¨‹
engine = FeatureEngine(use_cache=True)

# è®¡ç®—æ‰€æœ‰ç‰¹å¾
df_with_features = engine.calculate_features(
    df=data,
    symbol='1810.HK'
)

# é€‰æ‹©Top30ç‰¹å¾
top_features = engine.select_top_features(df_with_features, n_features=30)
```

### ç¤ºä¾‹3: è®­ç»ƒæ¨¡å‹

```python
from models.predictors import XGBoostModel
from models.training import ModelTrainer

# åˆ›å»ºæ¨¡å‹
model = XGBoostModel({
    'n_estimators': 1000,
    'max_depth': 8
})

# è®­ç»ƒ
trainer = ModelTrainer(model, "XGBoost_1h")
result = trainer.train(data_dict)

# SHAPè§£é‡Š
from models.explainability import SHAPExplainer
explainer = SHAPExplainer(model, 'tree')
explanation = explainer.explain(X_test, feature_names)
```

### ç¤ºä¾‹4: å›æµ‹ç­–ç•¥

```python
from trading.backtest import BacktestEngine

# åˆ›å»ºå›æµ‹å¼•æ“
engine = BacktestEngine(initial_capital=100000)

# è¿è¡Œå›æµ‹
result = engine.run(df, signal_generator)

# ç”ŸæˆæŠ¥å‘Š
print(engine.generate_report(result))
```

### ç¤ºä¾‹5: å®æ—¶ç›‘æ§

```python
from monitoring.scheduler import MonitoringScheduler

# åˆ›å»ºè°ƒåº¦å™¨
scheduler = MonitoringScheduler(config)

# è®¾ç½®ç›‘æ§
scheduler.setup_monitoring(
    ['1810.HK'],
    {'price_change_threshold': 0.02}
)

# å¯åŠ¨ç›‘æ§
scheduler.run()
```

---

## ğŸ“Š æŠ€æœ¯æŒ‡æ ‡æ¸…å• (47ä¸ª)

| ç±»åˆ« | æŒ‡æ ‡ |
|------|------|
| **ç§»åŠ¨å¹³å‡çº¿** | SMA5/10/20/60, EMA12/26 |
| **MACD** | MACDçº¿/ä¿¡å·çº¿/æŸ±çŠ¶å›¾/é‡‘å‰æ­»å‰ |
| **RSI** | RSI6/12/24, è¶…ä¹°è¶…å– |
| **å¸ƒæ—å¸¦** | ä¸Šè½¨/ä¸­è½¨/ä¸‹è½¨/å¸¦å®½/ä½ç½® |
| **KDJ** | K/D/Jå€¼/é‡‘å‰æ­»å‰ |
| **æ³¢åŠ¨ç‡** | ATR14, å†å²æ³¢åŠ¨ç‡, Parkinson |
| **åŠ¨é‡** | Momentum, ROC, CCI, Williams%R |
| **æˆäº¤é‡** | OBV, é‡æ¯”, æ”¾é‡ä¸Šæ¶¨, é‡ä»·èƒŒç¦» |
| **ä»·æ ¼ä½ç½®** | åŒºé—´ä½ç½®, è·é«˜ä½ç‚¹è·ç¦» |

---

## ğŸ§  Alphaå› å­æ¸…å• (50+)

| ç±»åˆ« | å› å­ |
|------|------|
| **è®¢å•æµ** | è®¢å•å¤±è¡¡, ä¹°å–å‹åŠ›, å¤§å•æ¯”ç‡ |
| **ä»·æ ¼** | æ”¶ç›Šç‡, å¯¹æ•°æ”¶ç›Š, å®é™…æ³¢åŠ¨ç‡, ååº¦å³°åº¦ |
| **è¶‹åŠ¿** | ADX, ä»·æ ¼åŠ é€Ÿåº¦, åŠ¨é‡æŒç»­æ€§ |
| **å‡å€¼å›å½’** | Zåˆ†æ•°, è·å‡çº¿è·ç¦», çªç ´ä¿¡å· |
| **æµåŠ¨æ€§** | AmihudéæµåŠ¨æ€§, æ¢æ‰‹ç‡, æµåŠ¨æ€§å†²å‡» |
| **æ³¢åŠ¨ç‡** | EWMAæ³¢åŠ¨ç‡, æ³¢åŠ¨ç‡è¶‹åŠ¿, æ³¢åŠ¨ç‡èšç±» |
| **æƒ…ç»ª** | æˆäº¤é‡æƒ…ç»ª, è¿ç»­æ¶¨è·Œå¤©æ•° |
| **æ—¶é—´** | æ—¥å†…æ—¶é—´, å‘¨å†…æ•ˆåº” |

---

## ğŸ¯ ç»©æ•ˆæŒ‡æ ‡

| æŒ‡æ ‡ | è¯´æ˜ |
|------|------|
| **æ€»æ”¶ç›Šç‡** | ç­–ç•¥å®Œæ•´å‘¨æœŸæ”¶ç›Šç‡ |
| **å¹´åŒ–æ”¶ç›Šç‡** | æŒ‰252ä¸ªäº¤æ˜“æ—¥å¹´åŒ– |
| **å¤æ™®æ¯”ç‡** | é£é™©è°ƒæ•´æ”¶ç›Š (æ— é£é™©åˆ©ç‡3%) |
| **ç´¢æè¯ºæ¯”ç‡** | ä¸‹è¡Œé£é™©è°ƒæ•´æ”¶ç›Š |
| **å¡ç›æ¯”ç‡** | å¹´åŒ–æ”¶ç›Š/æœ€å¤§å›æ’¤ |
| **æœ€å¤§å›æ’¤** | æœ€å¤§èµ„é‡‘å›æ’¤æ¯”ä¾‹ |
| **èƒœç‡** | ç›ˆåˆ©äº¤æ˜“æ¬¡æ•°å æ¯” |
| **ç›ˆäºæ¯”** | å¹³å‡ç›ˆåˆ©/å¹³å‡äºæŸ |
| **Alpha** | è¶…é¢æ”¶ç›Š |
| **Beta** | ç³»ç»Ÿæ€§é£é™© |
| **ä¿¡æ¯æ¯”ç‡** | ä¸»åŠ¨ç®¡ç†èƒ½åŠ› |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Python 3.11+**
- **æ•°æ®å¤„ç†**: pandas, numpy, scipy
- **æ•°æ®æº**: yfinance, akshare, itick (API)
- **æœºå™¨å­¦ä¹ **: scikit-learn, XGBoost
- **æ·±åº¦å­¦ä¹ **: PyTorch, Transformers
- **è§£é‡Šæ€§**: SHAP
- **ç¼“å­˜**: Redis
- **å¼‚æ­¥**: asyncio, aiohttp, websockets
- **å¯è§†åŒ–**: matplotlib, plotly
- **é€šçŸ¥**: é£ä¹¦Webhook

---

## ğŸ“ˆ ç³»ç»Ÿç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| **ä»£ç è¡Œæ•°** | ~20,000 è¡Œ |
| **æ¨¡å—æ•°é‡** | 15+ æ ¸å¿ƒæ¨¡å— |
| **æŠ€æœ¯æŒ‡æ ‡** | 47 ä¸ª |
| **Alphaå› å­** | 50+ ä¸ª |
| **æ¨¡å‹ç±»å‹** | 3 ç§ (LSTM/XGBoost/Transformer) |
| **å›æµ‹æŒ‡æ ‡** | 15+ ä¸ª |
| **å¼€å‘å‘¨æœŸ** | çº¦ 2 å‘¨ |

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.1.0 (2024-02-24)
- âœ… Phase 0: åŸºç¡€æ¶æ„å®Œæˆ
- âœ… Phase 1: ç‰¹å¾å·¥ç¨‹å®Œæˆ (90+ ç‰¹å¾)
- âœ… Phase 2: å¤šå°ºåº¦é¢„æµ‹æ¨¡å‹å®Œæˆ
- âœ… Phase 3: è®­ç»ƒ/SHAP/å›æµ‹å®Œæˆ
- âœ… Phase 4: å®æ—¶ç›‘æ§+é£ä¹¦é€šçŸ¥å®Œæˆ

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ PRï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

- é¡¹ç›®å‘èµ·: joyseekerr-debug
- å¼€å‘æ—¶é—´: 2024å¹´2æœˆ

---

**ğŸ‰ é¡¹ç›®å¼€å‘å®Œæˆï¼ç¥äº¤æ˜“é¡ºåˆ©ï¼**
