# 36. 监控仪表盘 (Monitoring Dashboard)

## 概念定义

监控仪表盘（Monitoring Dashboard）是将投资组合、市场行情、风险指标等关键信息以可视化方式集中展示的界面，帮助投资者快速掌握全局状态。

## 仪表盘设计原则

### 1. 层次清晰
```
三层信息架构：
├── 概览层（Overview）
│   ├── 组合总市值
│   ├── 当日盈亏
│   ├── 风险状态
│   └── 预警数量
│
├── 监控层（Monitoring）
│   ├── 持仓分布
│   ├── 实时行情
│   ├── 技术指标
│   └── 风险指标
│
└── 详情层（Details）
    ├── 个股详情
    ├── 交易记录
    ├── 风险报告
    └── 系统日志
```

### 2. 重点突出
```
视觉层级：
- 最重要的信息：最大字号、最醒目颜色
- 次要信息：标准显示
- 辅助信息：小字号、次要颜色

关键指标：
- 盈亏数字：大红大绿
- 风险状态：红黄绿灯
- 预警提示：闪烁/动画提醒
```

### 3. 实时更新
```
更新频率：
- 价格数据：秒级/分钟级
- 盈亏数据：分钟级
- 风险指标：分钟级
- 图表数据：可手动刷新

更新方式：
- WebSocket推送
- 定时轮询
- 用户手动刷新
```

## 仪表盘布局设计

### 经典布局
```
┌─────────────────────────────────────────────────────┐
│  Header                                             │
│  [Logo] [组合选择] [当前时间] [用户] [设置]          │
├─────────────────────────────────────────────────────┤
│  概览卡片区                                         │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │总资产   │ │当日盈亏 │ │风险状态 │ │预警数量 │   │
│  │¥1.2M    │ │+2.3%    │ │🟢正常  │ │3条      │   │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘   │
├─────────────────────────────────────────────────────┤
│  主内容区                                           │
│  ┌───────────────┐ ┌───────────────────────────┐   │
│  │               │ │                           │   │
│  │  收益曲线     │ │    持仓分布饼图           │   │
│  │               │ │                           │   │
│  │  [时间选择]   │ │    [行业/个股]            │   │
│  │               │ │                           │   │
│  └───────────────┘ └───────────────────────────┘   │
│  ┌───────────────────────────────────────────────┐ │
│  │  持仓列表                                      │ │
│  │  [代码] [名称] [持仓] [现价] [盈亏] [操作]     │ │
│  │  ...                                          │ │
│  └───────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────┤
│  预警区                                             │
│  [🔴紧急] 组合回撤超限  14:32  [处理]               │
│  [🟡一般] 价格触及预警  14:15  [查看]               │
└─────────────────────────────────────────────────────┘
```

## 核心组件设计

### 1. 盈亏概览卡片
```
设计要素：
- 当前总资产
- 当日盈亏（金额+百分比）
- 累计盈亏
- 对比基准（如沪深300）

颜色规范：
- 上涨：绿色（A股习惯）或红色
- 下跌：红色（A股习惯）或绿色
- 持平：灰色

趋势箭头：
- ↑ 上涨
- ↓ 下跌
- → 持平
```

### 2. 风险状态卡片
```
状态灯设计：
🟢 正常：所有指标在安全范围
🟡 关注：有指标接近阈值
🟠 警告：有指标触及阈值
🔴 危险：有指标超限

显示内容：
- 当前风险等级
- 主要风险指标
- 风险限额使用率
- 点击查看详情
```

### 3. 实时行情列表
```
列表字段：
- 代码/名称
- 最新价（闪烁表示更新）
- 涨跌幅（红绿颜色）
- 成交量
- 持仓量（如有）
- 预警标记

排序功能：
- 按涨跌幅
- 按持仓占比
- 按盈亏金额
- 自定义排序

筛选功能：
- 按市场（A股/港股/美股）
- 按行业
- 有预警的标的
```

### 4. 图表组件
```
常用图表：
├── 收益曲线
│   └── 时间序列，显示净值变化
├── 持仓分布
│   └── 饼图/环形图，行业或个股分布
├── 风险热力图
│   └── 矩阵图，显示相关性或风险贡献
├── 成交量图
│   └── 柱状图，显示交易量变化
└── K线图
    └── 带技术指标的价格走势
```

## 仪表盘技术实现

### 前端技术栈
```
推荐方案：
- React/Vue + TypeScript
- ECharts/D3.js 图表库
- Ant Design / Element UI 组件库
- WebSocket 实时通信

响应式设计：
- 桌面端：完整布局
- 平板端：自适应调整
- 手机端：精简视图
```

### 后端数据接口
```
API设计：
GET /api/dashboard/summary      # 概览数据
GET /api/dashboard/positions    # 持仓数据
GET /api/dashboard/alerts       # 预警数据
GET /api/dashboard/chart        # 图表数据
WS  /ws/market-data             # 实时行情推送
```

### 性能优化
```
加载优化：
- 首屏关键数据优先加载
- 非关键数据延迟加载
- 图表数据按需请求

渲染优化：
- 虚拟滚动（长列表）
- 数据缓存
- 防抖节流
```

## 仪表盘使用场景

### 早盘开盘前
```
关注内容：
- 隔夜外盘表现
- 期货/集合竞价指示
- 持仓隔夜风险
- 当日交易计划
```

### 盘中交易时
```
关注内容：
- 实时盈亏变化
- 价格预警触发
- 风险指标状态
- 交易执行情况
```

### 收盘后复盘
```
关注内容：
- 当日盈亏汇总
- 交易记录回顾
- 风险事件分析
- 持仓调整计划
```

---
*文档版本：v1.0 | 投资技能学习系列*
