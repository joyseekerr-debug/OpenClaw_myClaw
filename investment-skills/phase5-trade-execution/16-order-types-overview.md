# 16. 订单类型详解 (Order Types Overview)

## 概念定义

订单（Order）是投资者向经纪商发出的交易指令，指定了买入或卖出的标的、数量、价格条件等要素。理解不同订单类型是交易执行的基础。

## 订单基本要素

```
标准订单组成：
├── 买卖方向：买入(Buy) / 卖出(Sell)
├── 标的代码：股票/期货/期权代码
├── 数量：交易股数/手数
├── 价格条件：限价/市价/其他
├── 有效期：当日有效/撤销前有效/指定日期
├── 订单属性：普通/融资融券/条件单等
└── 特殊说明：冰山单、全部成交或取消等
```

## 主要订单类型分类

### 按价格条件分类
```
1. 市价单 (Market Order)
   - 以当前最优价格立即成交
   - 特点：保证成交，不保证价格

2. 限价单 (Limit Order)
   - 以指定价格或更优价格成交
   - 特点：保证价格，不保证成交

3. 止损单 (Stop Order)
   - 价格触及触发价后转为市价单
   - 特点：用于止损或突破入场

4. 止损限价单 (Stop-Limit Order)
   - 价格触及触发价后转为限价单
   - 特点：避免止损滑点过大
```

### 按有效期分类
```
1. 当日有效 (Day Order)
   - 当日收盘前有效，未成交自动撤销
   - 最常用类型

2. 撤销前有效 (GTC - Good Till Canceled)
   - 持续有效直至成交或手动撤销
   - 注意：部分券商有GTC期限限制

3. 立即成交否则撤销 (IOC - Immediate or Cancel)
   - 立即成交，未成交部分撤销
   - 适用于急切成交

4. 全部成交否则撤销 (FOK - Fill or Kill)
   - 全部立即成交，否则全部撤销
   - 适用于大额订单

5. 指定日期有效 (GTD - Good Till Date)
   - 指定日期前有效
```

### 按成交属性分类
```
1. 普通订单
   - 标准成交规则

2. 全部成交 (All or None, AON)
   - 要么全部成交，要么完全不成交
   - 避免部分成交带来的管理问题

3. 最小成交 (Minimum Fill)
   - 指定最小成交量，不足则撤销

4. 冰山单 (Iceberg Order)
   - 只显示部分数量，成交后自动补充
   - 隐藏真实交易意图
```

## 高级订单类型

### 条件单 (Conditional Order)
```
触发条件类型：
├── 价格条件：标的达到指定价格
├── 时间条件：指定时间触发
├── 技术指标：MACD金叉/死叉等
├── 组合条件：多条件逻辑组合
└── 外部事件：新闻、公告等

应用场景：
- 突破买入：股价突破阻力位自动买入
- 止盈止损：达到目标价自动平仓
- 时间管理：开盘/收盘自动操作
```

### 跟踪止损单 (Trailing Stop Order)
```
机制：
- 多头：设定低于最高价的固定金额/比例
- 价格创新高，止损价自动上移
- 价格回落触及止损价，自动卖出

示例：
- 买入价：100元
- 跟踪止损：5%
- 涨至110元，止损价上移至104.5元
- 回落至104.5元，自动卖出
```

### 括号订单 (Bracket Order)
```
组合结构：
├── 主订单：建仓订单（限价/市价）
├── 止盈单：达到目标盈利自动平仓
└── 止损单：达到最大亏损自动平仓

特点：
- 建仓同时设置止盈止损
- 三者联动，一侧成交另一侧自动撤销
- 适合计划性交易
```

### 一揽子订单 (Basket Order)
```
功能：
- 同时提交多只股票/合约的订单
- 按预设比例或权重分配资金
- 一键完成组合建仓/平仓

应用场景：
- ETF成分股套利
- 行业轮动配置
- 风险平价建仓
```

## 订单类型选择指南

| 场景 | 推荐订单 | 原因 |
|------|----------|------|
| 急需成交 | 市价单 | 确保成交 |
| 控制成本 | 限价单 | 控制价格 |
| 止损离场 | 止损单 | 自动执行 |
| 突破入场 | 止损限价单 | 确认突破 |
| 大额交易 | 冰山单 | 隐藏意图 |
| 全自动交易 | 括号订单 | 完整计划 |

## 订单执行风险

### 滑点 (Slippage)
```
定义：期望成交价格与实际成交价格的差异

原因：
- 市场波动剧烈
- 流动性不足
- 订单规模过大

应对：
- 使用限价单控制
- 分批次执行
- 避开高波动时段
```

### 部分成交风险
```
问题：大额订单分多笔成交，价格不一

应对：
- 使用AON属性
- 设置最小成交量
- 接受并记录平均成本
```

### 系统风险
```
问题：网络延迟、系统故障导致订单异常

应对：
- 选择可靠券商
- 重要订单电话确认
- 设置订单状态提醒
```

---
*文档版本：v1.0 | 投资技能学习系列*
