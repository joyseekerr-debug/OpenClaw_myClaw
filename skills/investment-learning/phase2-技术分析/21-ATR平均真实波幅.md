# ATR平均真实波幅（Average True Range）

## 一、概念定义

ATR由J. Welles Wilder于1978年提出，是衡量市场波动性的技术指标，不指示价格方向，只反映价格波动的剧烈程度。

**核心思想：**
- 通过计算N日内真实波幅的平均值，衡量市场波动性
- 波动性是动态变化的
- ATR可用于设置止损、确定仓位、识别趋势强度

**真实波幅（TR）：**
- 取以下三者的最大值：
  1. 当日最高价 - 当日最低价
  2. |当日最高价 - 前日收盘价|
  3. |当日最低价 - 前日收盘价|

**市场含义：**
- ATR上升：波动性增加，市场风险加大
- ATR下降：波动性降低，市场趋于平静
- ATR极高：可能接近顶部或底部
- ATR极低：可能酝酿大行情

---

## 二、计算公式（文字描述）

### 第一步：计算真实波幅（TR）

**TR = Max(当日最高价-当日最低价, |当日最高价-前日收盘价|, |当日最低价-前日收盘价|)**

**示例：**
| 数据 | 数值 |
|------|------|
| 当日最高价 | 105元 |
| 当日最低价 | 98元 |
| 前日收盘价 | 100元 |

**计算：**
- 当日高低差：105 - 98 = 7元
- 高点与前收差：|105 - 100| = 5元
- 低点与前收差：|98 - 100| = 2元
- TR = Max(7, 5, 2) = 7元

### 第二步：计算ATR

**简单平均法：**
- ATR = N日TR的简单平均值

**Wilder平滑法（推荐）：**
- ATR = 前一日ATR × (N-1)/N + 当日TR × 1/N

**参数N：** 通常取14日

---

## 三、实战案例分析

### 案例一：ATR设置止损

**股票：** 小米集团
**时间：** 2025年1月

**数据：**
- 买入价：38元
- 当前ATR(14)：1.5元

**止损设置方法：**
| 倍数 | 止损距离 | 止损价 | 适用场景 |
|------|----------|--------|----------|
| 1×ATR | 1.5元 | 36.5元 | 短线， tight stop |
| 2×ATR | 3.0元 | 35元 | 中线，标准止损 |
| 3×ATR | 4.5元 | 33.5元 | 长线，宽松止损 |

**选择：** 2×ATR = 35元

**优势：**
- 根据波动性动态调整
- 波动性大时止损宽，避免被震出
- 波动性小时止损窄，及时止损

---

### 案例二：ATR识别趋势启动

**股票：** 某科技股
**时间：** 2024年

**ATR表现：**
| 阶段 | ATR值 | 特征 | 市场状态 |
|------|-------|------|----------|
| 10月 | 0.8元 | 极低 | 横盘整理 |
| 11月初 | 1.2元 | 上升 | 波动增加 |
| 11月中 | 2.5元 | 高 | 趋势加速 |
| 12月 | 1.5元 | 回落 | 趋势稳定 |

**分析：**
- ATR从0.8上升至2.5：波动急剧增加
- 往往伴随趋势启动
- ATR回落：趋势趋于稳定

**交易应用：**
- ATR从历史低位上升：关注突破
- ATR极高：警惕趋势即将结束

---

### 案例三：ATR与仓位管理

**策略：** 根据ATR确定仓位大小

**原理：**
- 波动性大（ATR高）：减小仓位，降低风险
- 波动性小（ATR低）：增加仓位，提高收益

**计算公式：**
- 仓位比例 = 固定风险金额 / (ATR × 乘数)

**示例：**
- 账户资金：100万
- 单笔风险：2% = 2万
- ATR：2元
- 乘数：2

**计算：**
- 每股风险 = 2 × 2 = 4元
- 买入股数 = 20000 / 4 = 5000股

---

### 案例四：ATR极低值预警

**场景：** 某股票ATR连续处于历史低位

**特征：**
- ATR(14) < 过去6个月最低值的20%
- 价格波动极小
- 成交量萎缩

**市场含义：**
- 暴风雨前的宁静
- 大行情即将爆发
- 方向不确定，但波动会增加

**交易应用：**
- 不预判方向
- 等待突破后跟进
- 设置宽止损应对波动扩大

---

## 四、注意事项

### 1. ATR数值解读

| ATR状态 | 含义 | 操作建议 |
|---------|------|----------|
| 历史低位 | 极度平静 | 等待突破 |
| 上升中 | 波动增加 | 调整仓位/止损 |
| 高位 | 波动剧烈 | 减小仓位，警惕反转 |
| 下降中 | 波动减小 | 趋势可能趋于稳定 |

### 2. ATR的适用场景

**最适合：**
- 设置止损
- 仓位管理
- 识别波动率变化

**不适合：**
- 判断方向
- 预测价格
- 单独作为买卖信号

### 3. 不同市场的ATR

- 高价股：ATR绝对值大
- 低价股：ATR绝对值小
- 应使用ATR百分比进行比较

---

## 五、常见误区

### ❌ 误区一：ATR可以预测方向
**真相：** ATR只衡量波动性，不指示方向
- ATR高可能大涨也可能大跌
- **正确做法：** 配合趋势指标使用

### ❌ 误区二：ATR固定不变
**真相：** ATR是动态变化的
- 需定期更新
- 使用最新ATR计算止损
- **正确做法：** 每日更新ATR值

### ❌ 误区三：所有股票用相同ATR倍数
**真相：** 不同股票波动性不同
- 小盘股可能需要更大倍数
- 大盘股可以用较小倍数
- **正确做法：** 根据个股特性调整

### ❌ 误区四：ATR越低越好
**真相：** ATR极低可能酝酿大行情
- 不是低风险信号
- 可能是变盘前兆
- **正确做法：** 极低ATR时提高警惕

---

## 六、进阶技巧

### 1. ATR通道
- 中轨：移动平均线
- 上轨：中轨 + 2×ATR
- 下轨：中轨 - 2×ATR
- 类似布林带，但基于ATR

### 2. ATR止损移动
- 随着趋势发展，移动止损
- 新止损 = 最高价 - 2×ATR（多头）
- 跟踪止损，保护利润

### 3. ATR突破系统
- ATR从低位突然放大
- 配合价格突破
- 趋势启动信号

---

## 七、ATR vs 布林带

| 对比 | ATR | 布林带 |
|------|-----|--------|
| 基础 | 真实波幅 | 标准差 |
| 反映 | 绝对波动 | 相对波动 |
| 用途 | 止损/仓位 | 支撑阻力 |
| 直观性 | 需要计算 | 直观显示 |

---

## 八、总结

| 应用场景 | ATR优势 | 注意事项 |
|----------|---------|----------|
| 设置止损 | ⭐⭐⭐⭐⭐ | 动态调整 |
| 仓位管理 | ⭐⭐⭐⭐⭐ | 波动大减仓 |
| 识别波动变化 | ⭐⭐⭐⭐⭐ | 领先指标 |
| 判断方向 | ⭐ | 不能判断方向 |

**一句话总结：** ATR是衡量波动性的最佳工具，核心用途是设置动态止损和仓位管理，ATR极低预示大行情在即，ATR极高警惕趋势结束。
